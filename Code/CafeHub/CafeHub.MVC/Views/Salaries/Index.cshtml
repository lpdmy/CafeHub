@model List<CafeHub.Commons.Models.Salary>

@{
    ViewData["Title"] = "Salary Management";
    var monthYear = ViewBag.MonthYear as string;
}

<h2>Salary Management - @monthYear</h2>

@if (TempData["Message"] != null)
{
    <div class="alert alert-success">@TempData["Message"]</div>
}

<div class="d-flex justify-content-between mb-3">
    <a class="btn btn-primary" href="@Url.Action("CalculateSalaries", new { monthYear })">🔄 Calculate Salaries</a>
    <form method="get" class="d-flex">
        <input type="month" name="monthYear" value="@monthYear" class="form-control me-2" />
        <button type="submit" class="btn btn-secondary">Filter</button>
    </form>
</div>

<table class="table table-bordered">
    <thead class="table-dark">
        <tr>
            <th>Staff ID</th>
            <th>Name</th>
            <th>Base Salary</th>
            <th>Total Hours Worked</th>
            <th>Overtime Hours</th>
            <th>Bonus</th>
            <th>Deduction</th>
            <th>Net Salary</th>
            <th>Pay Date</th>
        </tr>
    </thead>
    <tbody>
        @foreach (var salary in Model)
        {
            <tr>
                <td>@salary.StaffId</td>
                <td>@salary.StaffName</td>
                <td>@salary.BaseSalary.ToString("C")</td>
                <td>@salary.TotalHoursWorked</td>
                <td>@salary.OvertimeHours</td>
                <td>@salary.Bonus.ToString("C")</td>
                <td>@salary.Deduction.ToString("C")</td>
                <td><strong>@salary.NetSalary.ToString("C")</strong></td>
                <td>@salary.PayDate.ToString("yyyy-MM-dd")</td>
            </tr>
        }
    </tbody>
</table>
